### YamlMime:UniversalReference
items:
  - uid: azure-iothub.Registry
    name: Registry
    fullName: Registry
    children:
      - azure-iothub.Registry.BulkRegistryOperationResult
      - azure-iothub.Registry.DeviceDescription
      - azure-iothub.Registry.DeviceRegistryOperationError
      - azure-iothub.Registry.JobStatus
      - azure-iothub.Registry.QueryDescription
      - azure-iothub.Registry.RegistryStatistics
      - azure-iothub.Registry.TransportConfig
      - azure-iothub.Registry.addDevices
      - azure-iothub.Registry.cancelJob
      - azure-iothub.Registry.create
      - azure-iothub.Registry.createQuery
      - azure-iothub.Registry.delete
      - azure-iothub.Registry.exportDevicesToBlob
      - azure-iothub.Registry.get
      - azure-iothub.Registry.getJob
      - azure-iothub.Registry.getRegistryStatistics
      - azure-iothub.Registry.getTwin
      - azure-iothub.Registry.importDevicesFromBlob
      - azure-iothub.Registry.list
      - azure-iothub.Registry.listJobs
      - azure-iothub.Registry.removeDevices
      - azure-iothub.Registry.update
      - azure-iothub.Registry.updateDevices
      - azure-iothub.Registry.updateTwin
      - azure-iothub.Registry.fromConnectionString
      - azure-iothub.Registry.fromSharedAccessSignature
    langs:
      - typeScript
    type: class
    summary: >
      The Registry class provides access to the IoT Hub device identity service.

      Users of the SDK should instantiate this class with one of the factory
      methods:

      [fromConnectionString](xref:azure-iothub.Registry.fromConnectionString) or
      [fromSharedAccessSignature](xref:azure-iothub.Registry.fromSharedAccessSignature).

      The protocol used for device identity registry operations is HTTPS.
    source:
      path: registry.ts
      startLine: 24
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.BulkRegistryOperationResult
    name: BulkRegistryOperationResult
    fullName: BulkRegistryOperationResult
    children:
      - azure-iothub.Registry.BulkRegistryOperationResult.errors
      - azure-iothub.Registry.BulkRegistryOperationResult.isSuccessful
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 813
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.BulkRegistryOperationResult.errors
    name: errors
    fullName: errors
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - '@azure-iothub.Registry.DeviceRegistryOperationError[]'
  - uid: azure-iothub.Registry.BulkRegistryOperationResult.isSuccessful
    name: isSuccessful
    fullName: isSuccessful
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - boolean
  - uid: azure-iothub.Registry.DeviceDescription
    name: DeviceDescription
    fullName: DeviceDescription
    children:
      - azure-iothub.Registry.DeviceDescription.deviceId
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 802
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.DeviceDescription.deviceId
    name: deviceId
    fullName: deviceId
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.DeviceRegistryOperationError
    name: DeviceRegistryOperationError
    fullName: DeviceRegistryOperationError
    children:
      - azure-iothub.Registry.DeviceRegistryOperationError.deviceId
      - azure-iothub.Registry.DeviceRegistryOperationError.errorCode
      - azure-iothub.Registry.DeviceRegistryOperationError.errorStatus
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 807
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.DeviceRegistryOperationError.deviceId
    name: deviceId
    fullName: deviceId
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.DeviceRegistryOperationError.errorCode
    name: errorCode
    fullName: errorCode
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - Error
  - uid: azure-iothub.Registry.DeviceRegistryOperationError.errorStatus
    name: errorStatus
    fullName: errorStatus
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.JobStatus
    name: JobStatus
    fullName: JobStatus
    children: []
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 784
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.QueryDescription
    name: QueryDescription
    fullName: QueryDescription
    children:
      - azure-iothub.Registry.QueryDescription.query
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 787
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.QueryDescription.query
    name: query
    fullName: query
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.RegistryStatistics
    name: RegistryStatistics
    fullName: RegistryStatistics
    children:
      - azure-iothub.Registry.RegistryStatistics.disabledDeviceCount
      - azure-iothub.Registry.RegistryStatistics.enabledDeviceCount
      - azure-iothub.Registry.RegistryStatistics.totalDeviceCount
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 791
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.RegistryStatistics.disabledDeviceCount
    name: disabledDeviceCount
    fullName: disabledDeviceCount
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - number
  - uid: azure-iothub.Registry.RegistryStatistics.enabledDeviceCount
    name: enabledDeviceCount
    fullName: enabledDeviceCount
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - number
  - uid: azure-iothub.Registry.RegistryStatistics.totalDeviceCount
    name: totalDeviceCount
    fullName: totalDeviceCount
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - number
  - uid: azure-iothub.Registry.TransportConfig
    name: TransportConfig
    fullName: TransportConfig
    children:
      - azure-iothub.Registry.TransportConfig.host
      - azure-iothub.Registry.TransportConfig.sharedAccessSignature
    langs:
      - typeScript
    type: interface
    summary: ''
    source:
      path: registry.ts
      startLine: 779
      remote:
        path: service/src\registry.ts
        repo: 'https://github.com/Azure/azure-iot-sdk-node.git'
        branch: doc-patches
    package: azure-iothub
  - uid: azure-iothub.Registry.TransportConfig.host
    name: host
    fullName: host
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.TransportConfig.sharedAccessSignature
    name: sharedAccessSignature
    fullName: sharedAccessSignature
    children: []
    langs:
      - typeScript
    type: property
    summary: ''
    syntax:
      return:
        type:
          - string
  - uid: azure-iothub.Registry.addDevices
    name: 'addDevices(devices: DeviceDescription[], done: BulkDeviceIdentityCallback)'
    children: []
    langs:
      - typeScript
    summary: Adds an array of devices.
    syntax:
      parameters:
        - id: devices
          type:
            - '@azure-iothub.Registry.DeviceDescription[]'
          description: |-
            An array of objects which must include a `deviceId`
                                           property whose value is a valid device
                                           identifier.
        - id: done
          type:
            - BulkDeviceIdentityCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           BulkRegistryOperationResult
                                           and a transport-specific response object useful
                                           for logging or debugging.
      content: >-
        function addDevices(devices: DeviceDescription[], done:
        BulkDeviceIdentityCallback)
    type: method
  - uid: azure-iothub.Registry.cancelJob
    name: 'cancelJob(jobId: string, done: JobCallback)'
    children: []
    langs:
      - typeScript
    summary: Cancel a bulk import/export job.
    syntax:
      parameters:
        - id: jobId
          type:
            - string
          description: >-
            The identifier of the job for which the user wants to get status
            information.
        - id: done
          type:
            - JobCallback
          description: >
            The function to call with two arguments: an error object if an error
            happened,
                                         (null otherwise) and the (cancelled) status of the job whose identifier was passed as an argument.
      content: 'function cancelJob(jobId: string, done: JobCallback)'
    type: method
  - uid: azure-iothub.Registry.create
    name: 'create(deviceInfo: DeviceDescription, done: DeviceCallback)'
    children: []
    langs:
      - typeScript
    summary: Creates a new device identity on an IoT hub.
    syntax:
      parameters:
        - id: deviceInfo
          type:
            - '@azure-iothub.Registry.DeviceDescription'
          description: |-
            The object must include a `deviceId` property
                                           with a valid device identifier.
        - id: done
          type:
            - DeviceCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           [Device](xref:azure-iothub.Device)
                                           object representing the created device
                                           identity, and a transport-specific response
                                           object useful for logging or debugging.
      content: 'function create(deviceInfo: DeviceDescription, done: DeviceCallback)'
    type: method
  - uid: azure-iothub.Registry.createQuery
    name: 'createQuery(sqlQuery: string, pageSize?: number)'
    children: []
    langs:
      - typeScript
    summary: >-
      Creates a query that can be run on the IoT Hub instance to find
      information about devices or jobs.
    syntax:
      parameters:
        - id: sqlQuery
          type:
            - string
          description: The query written as an SQL string.
        - id: pageSize
          type:
            - number
          description: >
            The desired number of results per page (optional. default: 1000,
            max: 10000).
          optional: true
      content: 'function createQuery(sqlQuery: string, pageSize?: number)'
      return:
        type:
          - '@azure-iothub.Query'
    exceptions:
      - type: ReferenceError
        description: If the sqlQuery argument is falsy.
      - type: TypeError
        description: >-
          If the sqlQuery argument is not a string or the pageSize argument not
          a number, null or undefined.
    type: method
  - uid: azure-iothub.Registry.delete
    name: 'delete(deviceId: string, done: ResponseCallback)'
    children: []
    langs:
      - typeScript
    summary: Removes an existing device identity from an IoT hub.
    syntax:
      parameters:
        - id: deviceId
          type:
            - string
          description: The identifier of an existing device identity.
        - id: done
          type:
            - ResponseCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), an
                                           always-null argument (for consistency with
                                           the other methods), and a transport-specific
                                           response object useful for logging or
                                           debugging.
      content: 'function delete(deviceId: string, done: ResponseCallback)'
    type: method
  - uid: azure-iothub.Registry.exportDevicesToBlob
    name: >-
      exportDevicesToBlob(outputBlobContainerUri: string, excludeKeys: boolean,
      done: JobCallback)
    children: []
    langs:
      - typeScript
    summary: Export devices to a blob in a bulk job.
    syntax:
      parameters:
        - id: outputBlobContainerUri
          type:
            - string
          description: >-
            The URI to a container where a blob will be created with logs of the
            export process.
        - id: excludeKeys
          type:
            - boolean
          description: >-
            Boolean indicating whether security keys should be excluded from the
            exported data.
        - id: done
          type:
            - JobCallback
          description: >
            The function to call when the job has been created, with two
            arguments: an error object if an
                                                         an error happened, (null otherwise) and the job status that can be used to track progress of the devices export.
      content: >-
        function exportDevicesToBlob(outputBlobContainerUri: string,
        excludeKeys: boolean, done: JobCallback)
    type: method
  - uid: azure-iothub.Registry.get
    name: 'get(deviceId: string, done: DeviceCallback)'
    children: []
    langs:
      - typeScript
    summary: |-
      Requests information about an existing device identity
                         on an IoT hub.
    syntax:
      parameters:
        - id: deviceId
          type:
            - string
          description: The identifier of an existing device identity.
        - id: done
          type:
            - DeviceCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           [Device](xref:azure-iothub.Device)
                                           object representing the created device
                                           identity, and a transport-specific response
                                           object useful for logging or debugging.
      content: 'function get(deviceId: string, done: DeviceCallback)'
    type: method
  - uid: azure-iothub.Registry.getJob
    name: 'getJob(jobId: string, done: JobCallback)'
    children: []
    langs:
      - typeScript
    summary: Get the status of a bulk import/export job.
    syntax:
      parameters:
        - id: jobId
          type:
            - string
          description: >-
            The identifier of the job for which the user wants to get status
            information.
        - id: done
          type:
            - JobCallback
          description: >
            The function to call with two arguments: an error object if an error
            happened,
                                         (null otherwise) and the status of the job whose identifier was passed as an argument.
      content: 'function getJob(jobId: string, done: JobCallback)'
    type: method
  - uid: azure-iothub.Registry.getRegistryStatistics
    name: 'getRegistryStatistics(done: Callback<RegistryStatistics>)'
    children: []
    langs:
      - typeScript
    summary: Gets statistics about the devices in the device identity registry.
    syntax:
      parameters:
        - id: done
          type:
            - Callback<@azure-iothub.Registry.RegistryStatistics>
          description: |
            The callback that will be called with either an Error object or
                                          the device registry statistics.
      content: 'function getRegistryStatistics(done: Callback<RegistryStatistics>)'
    type: method
  - uid: azure-iothub.Registry.getTwin
    name: 'getTwin(deviceId: string, done: ResponseCallback)'
    children: []
    langs:
      - typeScript
    summary: Gets the Device Twin of the device with the specified device identifier.
    syntax:
      parameters:
        - id: deviceId
          type:
            - string
          description: The device identifier.
        - id: done
          type:
            - ResponseCallback
          description: |
            The callback that will be called with either an Error object or
                                            the device twin instance.
      content: 'function getTwin(deviceId: string, done: ResponseCallback)'
    type: method
  - uid: azure-iothub.Registry.importDevicesFromBlob
    name: >-
      importDevicesFromBlob(inputBlobContainerUri: string,
      outputBlobContainerUri: string, done: JobCallback)
    children: []
    langs:
      - typeScript
    summary: Imports devices from a blob in bulk job.
    syntax:
      parameters:
        - id: inputBlobContainerUri
          type:
            - string
          description: >-
            The URI to a container with a blob named 'devices.txt' containing a
            list of devices to import.
        - id: outputBlobContainerUri
          type:
            - string
          description: >-
            The URI to a container where a blob will be created with logs of the
            import process.
        - id: done
          type:
            - JobCallback
          description: >
            The function to call when the job has been created, with two
            arguments: an error object if an
                                                         an error happened, (null otherwise) and the job status that can be used to track progress of the devices import.
      content: >-
        function importDevicesFromBlob(inputBlobContainerUri: string,
        outputBlobContainerUri: string, done: JobCallback)
    type: method
  - uid: azure-iothub.Registry.list
    name: 'list(done: Callback<Device[]>)'
    children: []
    langs:
      - typeScript
    summary: |-
      Requests information about the first 1000 device
                         identities on an IoT hub.
    syntax:
      parameters:
        - id: done
          type:
            - 'Callback<@azure-iothub.Device[]>'
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), an
                                           array of
                                           [Device](xref:azure-iothub.Device)
                                           objects representing the listed device
                                           identities, and a transport-specific response
                                           object useful for logging or debugging.
      content: 'function list(done: Callback<Device[]>)'
    type: method
  - uid: azure-iothub.Registry.listJobs
    name: 'listJobs(done: Callback<any>)'
    children: []
    langs:
      - typeScript
    summary: 'List the last import/export jobs (including the active one, if any).'
    syntax:
      parameters:
        - id: done
          type:
            - Callback<any>
          description: >
            The function to call with two arguments: an error object if an error
            happened,
                                         (null otherwise) and the list of past jobs as an argument.
      content: 'function listJobs(done: Callback<any>)'
    type: method
  - uid: azure-iothub.Registry.removeDevices
    name: >-
      removeDevices(devices: DeviceDescription[], forceRemove: boolean, done:
      BulkDeviceIdentityCallback)
    children: []
    langs:
      - typeScript
    summary: Updates an array of devices.
    syntax:
      parameters:
        - id: devices
          type:
            - '@azure-iothub.Registry.DeviceDescription[]'
          description: |-
            An array of objects which must include a `deviceId`
                                           property whose value is a valid device
                                           identifier.
        - id: forceRemove
          type:
            - boolean
          description: |-
            if `forceRemove` is true then the device will be
                                           removed regardless of an etag.  Otherwise the etags
                                           must match.
        - id: done
          type:
            - BulkDeviceIdentityCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           BulkRegistryOperationResult
                                           and a transport-specific response object useful
                                           for logging or debugging.
      content: >-
        function removeDevices(devices: DeviceDescription[], forceRemove:
        boolean, done: BulkDeviceIdentityCallback)
    type: method
  - uid: azure-iothub.Registry.update
    name: 'update(deviceInfo: DeviceDescription, done: DeviceCallback)'
    children: []
    langs:
      - typeScript
    summary: |-
      Updates an existing device identity on an IoT hub with
                         the given device information.
    syntax:
      parameters:
        - id: deviceInfo
          type:
            - '@azure-iothub.Registry.DeviceDescription'
          description: |-
            An object which must include a `deviceId`
                                           property whose value is a valid device
                                           identifier.
        - id: done
          type:
            - DeviceCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           [Device](xref:azure-iothub.Device)
                                           object representing the updated device
                                           identity, and a transport-specific response
                                           object useful for logging or debugging.
      content: 'function update(deviceInfo: DeviceDescription, done: DeviceCallback)'
    type: method
  - uid: azure-iothub.Registry.updateDevices
    name: >-
      updateDevices(devices: DeviceDescription[], forceUpdate: boolean, done?:
      BulkDeviceIdentityCallback)
    children: []
    langs:
      - typeScript
    summary: Updates an array of devices.
    syntax:
      parameters:
        - id: devices
          type:
            - '@azure-iothub.Registry.DeviceDescription[]'
          description: |-
            An array of objects which must include a `deviceId`
                                           property whose value is a valid device
                                           identifier.
        - id: forceUpdate
          type:
            - boolean
          description: |-
            if `forceUpdate` is true then the device will be
                                           updated regardless of an etag.  Otherwise the etags
                                           must match.
        - id: done
          type:
            - BulkDeviceIdentityCallback
          description: |
            The function to call when the operation is
                                           complete. `done` will be called with three
                                           arguments: an Error object (can be null), a
                                           BulkRegistryOperationResult
                                           and a transport-specific response object useful
                                           for logging or debugging.
          optional: true
      content: >-
        function updateDevices(devices: DeviceDescription[], forceUpdate:
        boolean, done?: BulkDeviceIdentityCallback)
    type: method
  - uid: azure-iothub.Registry.updateTwin
    name: >-
      updateTwin(deviceId: string, patch: any, etag: string, done:
      ResponseCallback)
    children: []
    langs:
      - typeScript
    summary: Updates the Device Twin of a specific device with the given patch.
    syntax:
      parameters:
        - id: deviceId
          type:
            - string
          description: The device identifier.
        - id: patch
          type:
            - any
          description: The desired properties and tags to patch the device twin with.
        - id: etag
          type:
            - string
          description: >-
            The latest etag for this device twin or '*' to force an update even
            if
                                            the device twin has been updated since the etag was obtained.
        - id: done
          type:
            - ResponseCallback
          description: |
            The callback that will be called with either an Error object or
                                            the device twin instance.
      content: >-
        function updateTwin(deviceId: string, patch: any, etag: string, done:
        ResponseCallback)
    type: method
  - uid: azure-iothub.Registry.fromConnectionString
    name: 'fromConnectionString(value: string)'
    children: []
    langs:
      - typeScript
    summary: Constructs a Registry object from the given connection string.
    syntax:
      parameters:
        - id: value
          type:
            - string
          description: |-
            A connection string which encapsulates the
                                         appropriate (read and/or write) Registry
                                         permissions.
      content: 'function fromConnectionString(value: string)'
      return:
        type:
          - '@azure-iothub.Registry'
    type: method
  - uid: azure-iothub.Registry.fromSharedAccessSignature
    name: 'fromSharedAccessSignature(value: string)'
    children: []
    langs:
      - typeScript
    summary: Constructs a Registry object from the given shared access signature.
    syntax:
      parameters:
        - id: value
          type:
            - string
          description: |-
            A shared access signature which encapsulates
                                         the appropriate (read and/or write) Registry
                                         permissions.
      content: 'function fromSharedAccessSignature(value: string)'
      return:
        type:
          - '@azure-iothub.Registry'
    type: method
